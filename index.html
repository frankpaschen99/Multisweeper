<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
	var socket = io('http://98.221.72.60:7865');
	
	
	
	// updated on client, send to server
	function sendBoardData(data, op) {	
		// called when tile is clicked or flagged. Send this data to server.
		
		socket.emit("bdata", data.getState(), data.getX(), data.getY(), op);
	}
	
	
	socket.on('plist', function(players) {
		document.getElementById("playerlist").innerHTML = "";
		players.forEach(function(index) {
			document.getElementById("playerlist").innerHTML += index + "<br />";
		});
	});
	
	function joinGame() {
		// "join" function takes a lobby code and a username.
		var lobbyCode = document.getElementById('lobbyCode').value;
		socket.emit("join_game", lobbyCode, document.getElementById('username').value);
		document.getElementById("start").innerHTML = "";
		document.getElementById("lobbyID").innerHTML = lobbyCode;
		game.state.start(states.game);
	}

</script>

<head>
<script src="libs/jquery-3.2.1.min.js"></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="libs/phaser.min.js"></script>
        <script src="game/game.js"></script>    
        <script src="game/tile.js"></script>
        <script src="game/board.js"></script>
        <script src="game/counter.js"></script>
</head>
<body>
	<div id="start">
	<h1>Welcome to Multisweepercraft V1.0 by Frank!!!!111</h1>
	<h3>To play, enter your username & lobby code (optional). Then click Join Game.</h3>

	<input text="text" id="username" placeholder="Username">
	<input type="text" id="lobbyCode" placeholder="Lobby ID (Optional)">
	<button type="button" onclick="joinGame() ">Join Game</button>
	<img src="img/grass.png" />
	<img src="img/grass.png" />
	<img src="img/grass.png" />
	<img src="img/grass.png" />
	<img src="img/grass.png" />
	<script>
	function mcBlocks() {
		setInterval(function(){
			document.getElementById("start").appendChild(new Image()).src = "img/grass.png";
		}, 10000);
	}
	//mcBlocks();
	</script>
	<br><br>
	<hr><hr><hr>
	</div>
	<p>Lobby ID: </p> <b><div id="lobbyID"></div></b>
	<p>Current Players in Lobby:</p>
	<div id="playerlist"></div>
	
	<p>The game will be displayed here </p>
	
	<div id="gameDiv"> </div>
	
</body>